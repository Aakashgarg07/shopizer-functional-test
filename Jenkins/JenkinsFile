pipeline {

    agent any

    tools {
        maven 'maven'
    }

    stages {

        stage('Run Functional Tests') {

            steps {
                sh 'mvn clean surefire-report:report'
                step([$class: 'Publisher', reportFilenamePattern: 'target/surefire-reports/testng-results.xml'])
            }

           

        }

//        stage('Archive Test Report') {
//
//            steps {
//                echo 'Now Archiving ..'
//                archiveArtifacts artifacts: 'target/surefire-reports/emailable-report.html'
//            }
//        }

    }

}